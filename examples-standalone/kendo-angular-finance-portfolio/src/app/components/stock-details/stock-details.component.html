<kendo-stockchart class="stock-chart" [transitions]="true" [renderAs]="'svg'">
    <kendo-chart-category-axis>
        <kendo-chart-category-axis-item
            [plotBands]="categoryPlotBands"
            [crosshair]="{ visible: true }"
            [maxDivisions]="20"
        >
        </kendo-chart-category-axis-item>
    </kendo-chart-category-axis>
    <kendo-chart-value-axis>
        <kendo-chart-value-axis-item
            [name]="'close'"
            [crosshair]="{ visible: true }"
        >
        </kendo-chart-value-axis-item>
        <kendo-chart-value-axis-item
            [name]="'volume'"
            [visible]="false"
            [max]="volumeValueAxisMax"
        >
        </kendo-chart-value-axis-item>
    </kendo-chart-value-axis>
    <kendo-chart-series>
        <kendo-chart-series-item
            *ngIf="chartType === 'candle'"
            [type]="'candlestick'"
            [data]="stockData"
            [categoryField]="'date'"
            [color]="'#5CB85C'"
            [downColor]="'#D9534F'"
            [axis]="'close'"
            [openField]="'open'"
            [closeField]="'close'"
            [lowField]="'low'"
            [highField]="'high'"
            [border]="{ color: 'transparent' }"
            [gap]="0.75"
            [aggregate]="candleChartAggregate"
        >
            <kendo-chart-series-item-tooltip>
                <ng-template kendoChartSeriesTooltipTemplate let-value="value" let-category="category">
                    <table>
                        <tbody>
                            <tr>
                                <th>{{ category | date:'HH:mm' }}</th>
                                <th>{{ category | date:'d/M' }}</th>
                            </tr>
                            <tr>
                                <td>Open:</td>
                                <td>{{ value.open }}</td>
                            </tr>
                            <tr>
                                <td>High:</td>
                                <td>{{ value.high }}</td>
                            </tr>
                            <tr>
                                <td>Low:</td>
                                <td>{{ value.low }}</td>
                            </tr>
                            <tr>
                                <td>Close:</td>
                                <td>{{ value.close }}</td>
                            </tr>
                        </tbody>
                    </table>
                </ng-template>
            </kendo-chart-series-item-tooltip>
        </kendo-chart-series-item>
        <kendo-chart-series-item
            *ngIf="chartType === 'line'"
            [type]="'line'"
            [data]="stockData"
            [field]="'close'"
            [style]="'smooth'"
            [categoryField]="'date'"
            [color]="'#2D73F5'"
            [axis]="'close'"
        >
        </kendo-chart-series-item>
        <kendo-chart-series-item
            *ngIf="chartType === 'area'"
            [type]="'area'"
            [style]="'smooth'"
            [data]="stockData"
            [field]="'close'"
            [axis]="'close'"
            [categoryField]="'date'"
            [color]="'#007BFF'"
        >
        </kendo-chart-series-item>
        <kendo-chart-series-item
            [type]="'column'"
            [data]="stockData"
            [field]="'volume'"
            [categoryField]="'date'"
            [color]="itemColor"
            [axis]="'volume'"
            [gap]="0.75"
            [border]="{ color: 'transparent' }"
        >
        </kendo-chart-series-item>
    </kendo-chart-series>
    <kendo-chart-navigator>
        <kendo-chart-navigator-series>
            <kendo-chart-navigator-series-item
                [type]="'area'"
                [data]="stockData"
                [field]="'close'"
                [categoryField]="'date'"
                [color]="'#559DE0'"
            >
            </kendo-chart-navigator-series-item>
        </kendo-chart-navigator-series>
    </kendo-chart-navigator>
</kendo-stockchart>
