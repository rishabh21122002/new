language: node_js

env:
    - PATH=$PATH:node_modules/.bin

branches:
  only:
    - ci-build

build:
  pre_ci_boot:
    image_name: drydock/u16nodall
    image_tag: v7.2.4

  ci:
    - nvm use 10
    - npm config set -g audit false
    - npm config set -g ignore-scripts true
    #
    # Lint and build examples
    - cd examples && npm ci && npm run lint && npm run build-all && cd -
    - cd examples-standalone/angular-universal/node_sample_application && npm ci && npm run lint && npm run build && cd -
    - cd examples-standalone/aspnetcore-data/ClientApp && npm ci && npm run lint && npm run build && cd -

